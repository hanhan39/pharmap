{% extends 'pmap/base.html' %}
{% load static %}

{% block content%}
<div class="row justify-content-center align-items-center">
    <div class="col-6">
        <div class="content">
            <h1>Search Results</h1>
            {% if results %}
                <ul>
                    {% for item in results %}
                        <li>
                            <strong>{{ item.pharmacy.name }} - {{ item.pharmacy.branch }}</strong><br>
                            Address: {{ item.pharmacy.address }}<br>
                            Medicines available:
                            <ul>
                                {% for med in item.matched_medicines %}
                                    <li>{{ med.brand }} ({{ med.generic }})</li>
                                {% endfor %}
                            </ul>
                            <em>{{ item.match_count }} matched</em>
                        </li>
                    {% endfor %}
                </ul>
            {% else %}
                <p>No matching pharmacies found.</p>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}