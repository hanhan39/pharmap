{% extends 'pmap/base.html' %}
{% load static %}
{% block title %}| Results{% endblock %}

{% block content%}
<div class="row justify-content-center align-items-center">
    <div class="col-6">
        <div class="content">
            <h1>Search Results</h1>
            <div style="margin-bottom: 5em;">
                {% if results %}
                    {% for item in results %}
                        <div class="list-results">
                            <h5>{{ item.pharmacy.name }} - {{ item.pharmacy.branch }}</h5>
                            <p>Address: {{ item.pharmacy.address }}</p>
                            <strong>Medicines available:</strong>
                            <ul>
                                {% for med in item.matched_medicines %}
                                    <li>{{ med }}</li>
                                {% endfor %}
                            </ul>
                            <em><strong>{{ item.match_count }} matched</strong></em>
                        </div>
                    {% endfor %}
                {% else %}
                    <p>No matching pharmacies found.</p>
                {% endif %}
            </div>
        </div>
    </div>
</div>
{% endblock %}